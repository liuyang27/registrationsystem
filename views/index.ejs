
<!DOCTYPE html>
<html class='no-js' lang='en'>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
    <title>Index</title>
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" />
    <link href="/css/buttons.dataTables.min.css" rel="stylesheet" type="text/css" />
</head>
<body>
 

  <nav class="navbar navbar-light" style="background-color: #e3f2fd;">

    <ul class="nav nav-tabs">
        <li>
            <span class="navbar-brand mb-0 h1">Registration System</span>
        </li>
        
        <li class="nav-item">
          <a class="nav-link active" href="#">My Courses</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/changepwd">Change Password</a>
        </li> 
      </ul>
      <ul  class="nav nav-tabs ">
        <li><a>Welcome,<%= name %>(<%= sid %>) </a></li>
        <li><a href="/logout"> Logout</a></li>
      </ul>     
  </nav>
  <h1>Courses</h1>
  <hr>
  <table id="table" class="display" cellspacing="0" width="100%">
      <thead>
          <tr>
              <th>ID</th>
              <th>Name</th>
              <th>DayOfWeek</th>    
              <th>Number</th>  
              <th>Allow</th> 
              <th>Teacher</th> 
              <th>Introduction</th> 
              <th></th>
          </tr>
      </thead>
      <tbody>

      </tbody>
  </table>

    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" src="/js/buttons.html5.min.js"></script>
    <script type="text/javascript" src="/js/jszip.min.js"></script>
    <script type="text/javascript">
      
       $(document).ready(function() {
            var day_arr=["Monday","Tuesday","Wednesday","Thursday","Friday"];

            $('#table').DataTable({ 
                columns: [
                { data: 'cid' },
                { data: 'name' },
                { data: 'dayofweek' },
                { data: 'number' },
                { data: 'allow' },
                { data: 'teacher' },
                { data: 'briefintro' },
                { data: null,"render":function(data,type,row,meta){
                  var html="<input type='button' class='btn btn-primary' value='Subscribe' onclick='location=\"../course/"+row.cid+ "\"'/>";
                  html += " <input type='button' class='btn btn-danger'  data-sid=" + row.cid + " value='Delete' id='deletebtn' />"
                  return html;
                }}
              ],
              ajax: {
                "url":'/course',
                "dataSrc": "results"
     
              }
          });
        });
    </script>
</body>
</html>
